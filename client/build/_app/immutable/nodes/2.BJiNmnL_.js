import{t as T,a as A,c as Fe,d as $t}from"../chunks/g2ivQohq.js";import{i as pe}from"../chunks/BZEjf6f_.js";import{ao as ea,b as Nt,h as te,x as Tt,ap as kt,y as jt,z as dt,A as We,B as Re,U as Ct,aq as He,ar as Qe,I as W,a as ze,a8 as ft,c as Ae,a6 as $e,a5 as et,as as Ft,e as ta,C as tt,D as Je,ak as aa,$ as ra,at as Et,a0 as ia,k as n,N as ce,ac as na,au as nt,ag as Lt,a2 as at,av as mt,aw as pt,_ as qt,ax as sa,ay as oa,af as la,az as ca,d as va,aA as da,aa as ua,aB as fa,aC as ma,aD as pa,aE as ga,aF as _a,E as ha,aG as ba,aH as ya,ai as Da,i as Mt,aI as wa,aJ as ka,n as qe,a7 as Ca,aj as Fa,p as J,t as q,q as Y,Q as Ge,f as ne,s as d,v as c,w as D,al as ge,J as Z,aK as ue,aL as Ne,l as Ve,aM as Ce,aN as me,g as Bt,an as De}from"../chunks/BS1eWCRB.js";import{p as ve,i as z,s as Ke,a as ke,b as gt}from"../chunks/B9ize4u0.js";import{a as xa,b as Pa,w as Sa,l as Aa,d as Pe,s as M,e as $}from"../chunks/CKSJYzyK.js";import{w as _t,c as Te,o as Rt}from"../chunks/jwz-sIuc.js";const st=0,Ze=1,ot=2;function Ht(r,e,t,a,i){te&&Tt();var s=r,o=ea(),l=ta,v=Ct,u,m,w,g=(o?Qe:W)(void 0),b=(o?Qe:W)(void 0),_=!1;function h(F,k){_=!0,k&&($e(I),et(I),Ft(l));try{F===st&&t&&(u?tt(u):u=ze(()=>t(s))),F===Ze&&a&&(m?tt(m):m=ze(()=>a(s,g))),F!==st&&u&&Je(u,()=>u=null),F!==Ze&&m&&Je(m,()=>m=null),F!==ot&&w&&Je(w,()=>w=null)}finally{k&&(Ft(null),et(null),$e(null),aa())}}var I=Nt(()=>{if(v===(v=e()))return;let F=te&&kt(v)===(s.data===jt);if(F&&(s=dt(),We(s),Re(!1),F=!0),kt(v)){var k=v;_=!1,k.then(y=>{k===v&&(He(g,y),h(Ze,!0))},y=>{if(k===v)throw He(b,y),h(ot,!0),b.v}),te?t&&(u=ze(()=>t(s))):ft(()=>{_||h(st,!0)})}else He(g,v),h(Ze,!1);return F&&Re(!0),()=>v=Ct});te&&(s=Ae)}function le(r,e){return e}function Oa(r,e,t,a){for(var i=[],s=e.length,o=0;o<s;o++)oa(e[o].e,i,!0);var l=s>0&&i.length===0&&t!==null;if(l){var v=t.parentNode;la(v),v.append(t),a.clear(),we(r,e[0].prev,e[s-1].next)}ca(i,()=>{for(var u=0;u<s;u++){var m=e[u];l||(a.delete(m.k),we(r,m.prev,m.next)),va(m.e,!l)}})}function ae(r,e,t,a,i,s=null){var o=r,l={flags:e,items:new Map,first:null},v=(e&Et)!==0;if(v){var u=r;o=te?We(ia(u)):u.appendChild(ra())}te&&Tt();var m=null,w=!1,g=ce(()=>{var b=t();return qt(b)?b:b==null?[]:Lt(b)});Nt(()=>{var b=n(g),_=b.length;if(w&&_===0)return;w=_===0;let h=!1;if(te){var I=o.data===jt;I!==(_===0)&&(o=dt(),We(o),Re(!1),h=!0)}if(te){for(var F=null,k,y=0;y<_;y++){if(Ae.nodeType===8&&Ae.data===na){o=Ae,h=!0,Re(!1);break}var p=b[y],f=a(p,y);k=zt(Ae,l,F,null,p,f,y,i,e,t),l.items.set(f,k),F=k}_>0&&We(dt())}te||Ia(b,l,o,i,e,a,t),s!==null&&(_===0?m?tt(m):m=ze(()=>s(o)):m!==null&&Je(m,()=>{m=null})),h&&Re(!0),n(g)}),te&&(o=Ae)}function Ia(r,e,t,a,i,s,o){var L,G,H,B;var l=(i&sa)!==0,v=(i&(mt|pt))!==0,u=r.length,m=e.items,w=e.first,g=w,b,_=null,h,I=[],F=[],k,y,p,f;if(l)for(f=0;f<u;f+=1)k=r[f],y=s(k,f),p=m.get(y),p!==void 0&&((L=p.a)==null||L.measure(),(h??(h=new Set)).add(p));for(f=0;f<u;f+=1){if(k=r[f],y=s(k,f),p=m.get(y),p===void 0){var x=g?g.e.nodes_start:t;_=zt(x,e,_,_===null?e.first:_.next,k,y,f,a,i,o),m.set(y,_),I=[],F=[],g=_.next;continue}if(v&&Na(p,k,f,i),(p.e.f&nt)!==0&&(tt(p.e),l&&((G=p.a)==null||G.unfix(),(h??(h=new Set)).delete(p))),p!==g){if(b!==void 0&&b.has(p)){if(I.length<F.length){var C=F[0],O;_=C.prev;var N=I[0],P=I[I.length-1];for(O=0;O<I.length;O+=1)xt(I[O],C,t);for(O=0;O<F.length;O+=1)b.delete(F[O]);we(e,N.prev,P.next),we(e,_,N),we(e,P,C),g=C,_=P,f-=1,I=[],F=[]}else b.delete(p),xt(p,g,t),we(e,p.prev,p.next),we(e,p,_===null?e.first:_.next),we(e,_,p),_=p;continue}for(I=[],F=[];g!==null&&g.k!==y;)(g.e.f&nt)===0&&(b??(b=new Set)).add(g),F.push(g),g=g.next;if(g===null)continue;p=g}I.push(p),_=p,g=p.next}if(g!==null||b!==void 0){for(var j=b===void 0?[]:Lt(b);g!==null;)(g.e.f&nt)===0&&j.push(g),g=g.next;var S=j.length;if(S>0){var E=(i&Et)!==0&&u===0?t:null;if(l){for(f=0;f<S;f+=1)(H=j[f].a)==null||H.measure();for(f=0;f<S;f+=1)(B=j[f].a)==null||B.fix()}Oa(e,j,E,m)}}l&&ft(()=>{var U;if(h!==void 0)for(p of h)(U=p.a)==null||U.apply()}),at.first=e.first&&e.first.e,at.last=_&&_.e}function Na(r,e,t,a){(a&mt)!==0&&He(r.v,e),(a&pt)!==0?He(r.i,t):r.i=t}function zt(r,e,t,a,i,s,o,l,v,u){var m=(v&mt)!==0,w=(v&da)===0,g=m?w?W(i):Qe(i):i,b=(v&pt)===0?o:Qe(o),_={i:b,v:g,k:s,a:null,e:null,prev:t,next:a};try{return _.e=ze(()=>l(r,g,b,u),te),_.e.prev=t&&t.e,_.e.next=a&&a.e,t===null?e.first=_:(t.next=_,t.e.next=_.e),a!==null&&(a.prev=_,a.e.prev=_.e),_}finally{}}function xt(r,e,t){for(var a=r.next?r.next.e.nodes_start:t,i=e?e.e.nodes_start:t,s=r.e.nodes_start;s!==a;){var o=ua(s);i.before(s),s=o}}function we(r,e,t){e===null?r.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}const Pt=[...` 	
\r\f \v\uFEFF`];function Ta(r,e,t){var a=r==null?"":""+r;if(t){for(var i in t)if(t[i])a=a?a+" "+i:i;else if(a.length)for(var s=i.length,o=0;(o=a.indexOf(i,o))>=0;){var l=o+s;(o===0||Pt.includes(a[o-1]))&&(l===a.length||Pt.includes(a[l]))?a=(o===0?"":a.substring(0,o))+a.substring(l+1):o=l}}return a===""?null:a}function St(r,e=!1){var t=e?" !important;":";",a="";for(var i in r){var s=r[i];s!=null&&s!==""&&(a+=" "+i+": "+s+t)}return a}function lt(r){return r[0]!=="-"||r[1]!=="-"?r.toLowerCase():r}function ja(r,e){if(e){var t="",a,i;if(Array.isArray(e)?(a=e[0],i=e[1]):a=e,r){r=String(r).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var s=!1,o=0,l=!1,v=[];a&&v.push(...Object.keys(a).map(lt)),i&&v.push(...Object.keys(i).map(lt));var u=0,m=-1;const h=r.length;for(var w=0;w<h;w++){var g=r[w];if(l?g==="/"&&r[w-1]==="*"&&(l=!1):s?s===g&&(s=!1):g==="/"&&r[w+1]==="*"?l=!0:g==='"'||g==="'"?s=g:g==="("?o++:g===")"&&o--,!l&&s===!1&&o===0){if(g===":"&&m===-1)m=w;else if(g===";"||w===h-1){if(m!==-1){var b=lt(r.substring(u,m).trim());if(!v.includes(b)){g!==";"&&w++;var _=r.substring(u,w).trim();t+=" "+_+";"}}u=w+1,m=-1}}}}return a&&(t+=St(a)),i&&(t+=St(i,!0)),t=t.trim(),t===""?null:t}return r==null?null:String(r)}function ee(r,e,t,a,i,s){var o=r.__className;if(te||o!==t||o===void 0){var l=Ta(t,a,s);(!te||l!==r.getAttribute("class"))&&(l==null?r.removeAttribute("class"):r.className=l),r.__className=t}else if(s&&i!==s)for(var v in s){var u=!!s[v];(i==null||u!==!!i[v])&&r.classList.toggle(v,u)}return s}function ct(r,e={},t,a){for(var i in t){var s=t[i];e[i]!==s&&(t[i]==null?r.style.removeProperty(i):r.style.setProperty(i,s,a))}}function oe(r,e,t,a){var i=r.__style;if(te||i!==e){var s=ja(e,a);(!te||s!==r.getAttribute("style"))&&(s==null?r.removeAttribute("style"):r.style.cssText=s),r.__style=e}else a&&(Array.isArray(a)?(ct(r,t==null?void 0:t[0],a[0]),ct(r,t==null?void 0:t[1],a[1],"important")):ct(r,t,a));return a}const Ea=Symbol("is custom element"),La=Symbol("is html");function qa(r){if(te){var e=!1,t=()=>{if(!e){if(e=!0,r.hasAttribute("value")){var a=r.value;V(r,"value",null),r.value=a}if(r.hasAttribute("checked")){var i=r.checked;V(r,"checked",null),r.checked=i}}};r.__on_r=t,_a(t),xa()}}function V(r,e,t,a){var i=Ma(r);te&&(i[e]=r.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&r.nodeName==="LINK")||i[e]!==(i[e]=t)&&(e==="loading"&&(r[fa]=t),t==null?r.removeAttribute(e):typeof t!="string"&&Ba(r).includes(e)?r[e]=t:r.setAttribute(e,t))}function Ma(r){return r.__attributes??(r.__attributes={[Ea]:r.nodeName.includes("-"),[La]:r.namespaceURI===ma})}var At=new Map;function Ba(r){var e=At.get(r.nodeName);if(e)return e;At.set(r.nodeName,e=[]);for(var t,a=r,i=Element.prototype;i!==a;){t=ga(a);for(var s in t)t[s].set&&e.push(s);a=pa(a)}return e}const Ra=()=>performance.now(),_e={tick:r=>requestAnimationFrame(r),now:()=>Ra(),tasks:new Set};function Gt(){const r=_e.now();_e.tasks.forEach(e=>{e.c(r)||(_e.tasks.delete(e),e.f())}),_e.tasks.size!==0&&_e.tick(Gt)}function Ha(r){let e;return _e.tasks.size===0&&_e.tick(Gt),{promise:new Promise(t=>{_e.tasks.add(e={c:r,f:t})}),abort(){_e.tasks.delete(e)}}}function Xe(r,e){Sa(()=>{r.dispatchEvent(new CustomEvent(e))})}function za(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const e=r.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function Ot(r){const e={},t=r.split(";");for(const a of t){const[i,s]=a.split(":");if(!i||s===void 0)break;const o=za(i.trim());e[o]=s.trim()}return e}const Ga=r=>r;function Me(r,e,t,a){var i=(r&wa)!==0,s="both",o,l=e.inert,v=e.style.overflow,u,m;function w(){var I=Ca,F=at;et(null),$e(null);try{return o??(o=t()(e,(a==null?void 0:a())??{},{direction:s}))}finally{et(I),$e(F)}}var g={is_global:i,in(){e.inert=l,Xe(e,"introstart"),u=ut(e,w(),m,1,()=>{Xe(e,"introend"),u==null||u.abort(),u=o=void 0,e.style.overflow=v})},out(I){e.inert=!0,Xe(e,"outrostart"),m=ut(e,w(),u,0,()=>{Xe(e,"outroend"),I==null||I()})},stop:()=>{u==null||u.abort(),m==null||m.abort()}},b=at;if((b.transitions??(b.transitions=[])).push(g),Pa){var _=i;if(!_){for(var h=b.parent;h&&(h.f&ha)!==0;)for(;(h=h.parent)&&(h.f&ba)===0;);_=!h||(h.f&ya)!==0}_&&Da(()=>{Mt(()=>g.in())})}}function ut(r,e,t,a,i){var s=a===1;if(ka(e)){var o,l=!1;return ft(()=>{if(!l){var I=e({direction:s?"in":"out"});o=ut(r,I,t,a,i)}}),{abort:()=>{l=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return i(),{abort:qe,deactivate:qe,reset:qe,t:()=>a};const{delay:v=0,css:u,tick:m,easing:w=Ga}=e;var g=[];if(s&&t===void 0&&(m&&m(0,1),u)){var b=Ot(u(0,1));g.push(b,b)}var _=()=>1-a,h=r.animate(g,{duration:v});return h.onfinish=()=>{var I=(t==null?void 0:t.t())??1-a;t==null||t.abort();var F=a-I,k=e.duration*Math.abs(F),y=[];if(k>0){var p=!1;if(u)for(var f=Math.ceil(k/16.666666666666668),x=0;x<=f;x+=1){var C=I+F*w(x/f),O=Ot(u(C,1-C));y.push(O),p||(p=O.overflow==="hidden")}p&&(r.style.overflow="hidden"),_=()=>{var N=h.currentTime;return I+F*w(N/k)},m&&Ha(()=>{if(h.playState!=="running")return!1;var N=_();return m(N,1-N),!0})}h=r.animate(y,{duration:k,fill:"forwards"}),h.onfinish=()=>{_=()=>a,m==null||m(a,1-a),i()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=qe)},deactivate:()=>{i=qe},reset:()=>{a===0&&(m==null||m(1,0))},t:()=>_()}}function Va(r,e,t=e){Aa(r,"change",a=>{var i=a?r.defaultChecked:r.checked;t(i)}),(te&&r.defaultChecked!==r.checked||Mt(e)==null)&&t(r.checked),Fa(()=>{var a=e();r.checked=!!a})}function xe(r,e){var s;var t=(s=r.$$events)==null?void 0:s[e.type],a=qt(t)?t.slice():t==null?[]:[t];for(var i of a)i.call(this,e)}const Ua=!1,Gi=Object.freeze(Object.defineProperty({__proto__:null,ssr:Ua},Symbol.toStringTag,{value:"Module"})),ht="https://server.bettercinestar.lukaslovretic.from.hr",Ka=r=>r;function Be(r,{delay:e=0,duration:t=400,easing:a=Ka}={}){const i=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:a,css:s=>`opacity: ${s*i}`}}function Ye(r){const e=new Date;e.setHours(0,0,0,0);const t=r.getTime()-e.getTime(),a=1e3*60*60*24,i=Math.floor(t/a);return i<0?"Prošlost":i===0?"Danas":i===1?"Sutra":r.toLocaleDateString("hr-HR",{weekday:"short",month:"short",day:"numeric"})}function Za(r,e){const t=new Date;t.setHours(0,0,0,0);const a=new Date(r);a.setHours(0,0,0,0);const i=a.getTime()-t.getTime(),s=1e3*60*60*24,o=Math.floor(i/s);if(o<-1)return`prije ${Math.abs(o)} dana`;if(o===-1)return"jučer";if(o===0){const l=new Date,[v,u]=e.split(":").map(F=>parseInt(F)),m=new Date(r);m.setHours(v,u,0,0);const w=m.getTime()-l.getTime();if(w<0)return"Prošlo";const g=Math.floor(w/(1e3*60)),b=Math.floor(g/60),_=g%60,h=b.toString().padStart(2,"0"),I=_.toString().padStart(2,"0");return b>0?`za ${h}h ${I}m`:_>0?`za ${I}m`:"Upravo počinje"}return o===1?"sutra":`za ${o} dana`}function bt(r){const e=r.getFullYear(),t=(r.getMonth()+1).toString().padStart(2,"0"),a=r.getDate().toString().padStart(2,"0");return`${e}-${t}-${a}`}function Xa(r){return Object.values(r).flat().filter(t=>t!=="00:00"&&t!=="24:00").length}function yt(r,e){return r.filter(t=>{const a=e.timeFrom===void 0||e.timeTo===void 0||t.performanceTime>=e.timeFrom&&t.performanceTime<=e.timeTo,i=e.videoFeatures===void 0||e.videoFeatures.length===0||e.videoFeatures.some(l=>t.performanceFeatures?t.performanceFeatures.includes(l):!1),s=e.roomFeatures===void 0||e.roomFeatures.length===0||e.roomFeatures.some(l=>t.performanceFeatures?l==="BASIC"?!t.performanceFeatures.includes("4DX")&&!t.performanceFeatures.includes("IMAX")&&!t.performanceFeatures.includes("GOLD")&&!t.performanceFeatures.includes("KIDS")&&!t.performanceFeatures.includes("SCREENX"):t.performanceFeatures.includes(l):!1),o=e.audioFeatures===void 0||e.audioFeatures.length===0||e.audioFeatures.some(l=>t.performanceFeatures?t.performanceFeatures.includes(l):!1);return a&&i&&s&&o})}function Wa(r){return r.map(e=>e.performanceFeatures).map(e=>e?!e.includes("IMAX")&&!e.includes("4DX")&&!e.includes("GOLD")&&!e.includes("KIDS")&&!e.includes("SCREENX")?[...e,"BASIC"]:e:[]).flat().filter((e,t,a)=>a.indexOf(e)===t)}function Vt(r){const e=Wa(r),t={videoFeatures:e.filter(a=>a==="2D"||a==="3D"),roomFeatures:e.filter(a=>a==="4DX"||a==="IMAX"||a==="GOLD"||a==="BASIC"||a==="KIDS"||a==="SCREENX"),audioFeatures:e.filter(a=>a==="TITL"||a==="SINK"||a==="OV")};return Object.keys(t).forEach(a=>{t[a].sort((s,o)=>s.localeCompare(o))}),t}function Ja(r,e){const t={videoFeatures:[],roomFeatures:[],audioFeatures:[]};for(const a of Object.keys(t)){const i=JSON.parse(JSON.stringify(e));i[a]=[];const s=yt(r,i);t[a]=Vt(s)[a]}return t}function It(r,e){var a,i,s,o,l,v;let t=0;for(const u of r)e==="BASIC"?!((a=u.performanceFeatures)!=null&&a.includes("4DX"))&&!((i=u.performanceFeatures)!=null&&i.includes("IMAX"))&&!((s=u.performanceFeatures)!=null&&s.includes("GOLD"))&&!((o=u.performanceFeatures)!=null&&o.includes("KIDS"))&&!((l=u.performanceFeatures)!=null&&l.includes("SCREENX"))&&t++:(v=u.performanceFeatures)!=null&&v.includes(e)&&t++;return t}const Ut=bt(new Date),Oe=_t([]),Ie=_t(Ut),Ue=_t("nationwideStart");function vt(){Oe.set([]),Ie.set(Ut),Ue.set("nationwideStart")}function Ya(r,e){e.onClick()}var Qa=T('<button type="button"><div class="line svelte-1thvwya"></div> <div class="line svelte-1thvwya"></div> <div class="line svelte-1thvwya"></div></button>');function $a(r,e){J(e,!0);let t=ve(e,"ariaLabel",3,"Toggle menu");var a=Qa();let i;a.__click=[Ya,e],q(s=>{V(a,"aria-label",t()),V(a,"aria-expanded",e.isOpen),V(a,"aria-controls",e.ariaControlsId),i=ee(a,1,"hamburger svelte-1thvwya",null,i,s)},[()=>({open:e.isOpen})]),A(r,a),Y()}Pe(["click"]);var er=(r,e)=>n(e).isOpen=!n(e).isOpen,tr=T("<p> </p>"),ar=T('<button type="button" class="faqItem svelte-f1yb08"><div class="question svelte-f1yb08"><p class="text svelte-f1yb08"> </p> <img src="/images/downArrowFramedD9.svg" alt="Show answer"></div> <!></button>');function rr(r){let e=Ge([{question:"Jesu li prikazani filmovi i termini isti kao na cinestaru?",answer:"Da, informacije o filmovima i terminima prikazivanja preuzimaju se direktno iz Cinestar-ovog API-ja, osiguravajući točnost i usklađenost s ponudom u kinima."},{question:"Koliko su točne informacije na ovoj web stranici?",answer:"Osnovni podaci, uključujući popis filmova, raspored prikazivanja i informacije o sjedalima, preuzimaju se sa službene web stranice Cinestar-a. Dodatni detalji poput liste glumaca, redatelja i ocjena dolaze sa Letterboxd-a. Može se dogoditi da program pronađe krivu Letterboxd stranicu za film, ali to se lako primjeti jer naslov filma i slika neće odgovarati."},{question:"Koliko često se ažuriraju podaci na ovoj web stranici?",answer:"Svi podaci (Cinestar i Letterboxd) se ažuriraju jednom dnevno, u 00:30"},{question:"Zašto nema filmova nakon srijede?",answer:"Cinestar objavljuje novi raspored filmova svake srijede. Ako ih nema na ovoj stranici, nema ni na cinestaru."},{question:"Kako se određuje raspored i dostupnost sjedala?",answer:"Raspored sjedala i informacije o njihovoj dostupnosti automatski se preuzimaju s Cinestarove službene web stranice u trenutku kada odaberete prikazivanje, osiguravajući da su informacije uvijek aktualne i precizne."},{question:"Postoje li planovi za dodavanje novih značajki?",answer:"Nemam više ideja, ako imate prijedloge za poboljšanja ili nove funkcije, slobodno mi pošaljite e-mail."},{question:"Mogu li kontribuirati ovom projektu?",answer:"Da, s obzirom da nemam puno vremena za ovaj projekt, svaka pomoć je dobrodošla. GitHub link je dolje."}]);var t=Fe(),a=ne(t);ae(a,19,()=>e,i=>i.question,(i,s,o)=>{var l=ar();l.__click=[er,s];var v=d(l),u=d(v),m=d(u,!0);c(u);var w=D(u,2);let g;c(v);var b=D(v,2);{var _=h=>{var I=tr();let F;var k=d(I,!0);c(I),q(y=>{F=ee(I,1,"text answer svelte-f1yb08",null,F,y),V(I,"id",`faq-answer-${n(o)}`),V(I,"aria-hidden",!n(s).isOpen),M(k,n(s).answer)},[()=>({open:n(s).isOpen})]),A(h,I)};z(b,h=>{n(s).isOpen&&h(_)})}c(l),q(h=>{V(l,"aria-expanded",n(s).isOpen),V(l,"aria-controls",`faq-answer-${n(o)}`),M(m,n(s).question),g=ee(w,1,"svelte-f1yb08",null,g,h)},[()=>({open:n(s).isOpen})]),A(i,l)}),A(r,t)}Pe(["click"]);var ir=(r,e,t)=>{e.onOptionChange(t())},nr=T('<button type="button" role="radio"><img src="/images/whiteCheckForMenu.svg" alt="checkmark" class="svelte-1b1xee0"> <p class="svelte-1b1xee0"> </p></button>'),sr=T('<div class="segmentedButton svelte-1b1xee0" role="radiogroup"></div>');function or(r,e){J(e,!0);var t=sr();ae(t,21,()=>e.options,({label:a,value:i})=>i,(a,i,s,o)=>{let l=()=>n(i).label,v=()=>n(i).value;var u=nr();let m;u.__click=[ir,e,v];var w=D(d(u),2),g=d(w,!0);c(w),c(u),q(b=>{m=ee(u,1,"option svelte-1b1xee0",null,m,b),V(u,"aria-checked",e.selectedOption===v()),V(u,"aria-label",l()),M(g,l())},[()=>({selected:e.selectedOption===v()})]),A(a,u)}),c(t),q(()=>V(t,"aria-label",e.label)),A(r,t),Y()}Pe(["click"]);var lr=(r,e,t)=>e(t),cr=T('<div class="menu svelte-1yb41h" id="navigation-menu"><section class="svelte-1yb41h"><p class="title svelte-1yb41h">Dizajn kartice filma</p> <!></section> <section class="svelte-1yb41h"><p class="title svelte-1yb41h">FAQ</p> <!></section> <section class="svelte-1yb41h"><p class="title svelte-1yb41h">Kontakt</p> <div class="emailAndCopyButton svelte-1yb41h"><p class="text svelte-1yb41h"></p> <button aria-label="Copy email to clipboard" class="svelte-1yb41h"><img src="/images/copyToClipboard.svg" alt="copy icon" class="svelte-1yb41h"></button></div></section> <section class="svelte-1yb41h"><p class="title svelte-1yb41h">Privacy policy</p> <p class="text svelte-1yb41h"></p></section> <section class="svelte-1yb41h"><p class="title svelte-1yb41h">GitHub repository</p> <a href="https://github.com/lukaslovre/Better-Cinestar" class="text svelte-1yb41h">github.com/lukaslovre/Better-Cinestar</a></section></div>'),vr=T('<nav class="svelte-1yb41h"><div class="svelte-1yb41h"><button type="button"><img id="logo" src="/images/logo.png" alt="Better CineStar logo" class="svelte-1yb41h"></button> <!> <!></div></nav>');function dr(r,e){J(e,!0);const t="lovretic2002@gmail.com",a=150,i=75;let o=ge(Ge(localStorage.getItem("movieCardDesign")||"v2"));function l(F){localStorage.setItem("movieCardDesign",F),Z(o,F,!0)}let v=ge(!1);function u(){Z(v,!n(v));const F=document.getElementById("content");if(!F){console.warn("Content element not found when toggling menu");return}n(v)?F.style.display="none":F.style.display="flex"}function m(F){navigator.clipboard.writeText(F).catch(k=>{console.error(`Failed to copy "${F}": `,k)})}var w=vr(),g=d(w),b=d(g);b.__click=function(...F){vt==null||vt.apply(this,F)};var _=D(b,2);$a(_,{get isOpen(){return n(v)},onClick:u,ariaLabel:"Toggle menu",ariaControlsId:"navigation-menu"});var h=D(_,2);{var I=F=>{var k=cr(),y=d(k),p=D(d(y),2);or(p,{options:[{label:"Stari",value:"v1"},{label:"Novi",value:"v2"}],get selectedOption(){return n(o)},onOptionChange:l,label:"Movie card design"}),c(y);var f=D(y,2),x=D(d(f),2);rr(x),c(f);var C=D(f,2),O=D(d(C),2),N=d(O);N.textContent="lovretic2002@gmail.com";var P=D(N,2);P.__click=[lr,m,t],c(O),c(C);var j=D(C,2),S=D(d(j),2);S.textContent="Korisnički podaci se ne sakupljaju.",c(j);var E=D(j,2);c(k),Me(3,y,()=>Be,()=>({delay:i*1,duration:a})),Me(3,f,()=>Be,()=>({delay:i*2,duration:a})),Me(3,C,()=>Be,()=>({delay:i*3,duration:a})),Me(3,j,()=>Be,()=>({delay:i*4,duration:a})),Me(3,E,()=>Be,()=>({delay:i*5,duration:a})),A(F,k)};z(h,F=>{n(v)&&F(I)})}c(g),c(w),A(r,w),Y()}Pe(["click"]);const rt=[{cinemaOid:"10000000014OCPXCOG",cinemaName:"Branimir mingle mall",cinemaCity:"Zagreb"},{cinemaOid:"20000000014FEPADHG",cinemaName:"Avenue mall",cinemaCity:"Zagreb"},{cinemaOid:"37000000014FEPADHG",cinemaName:"Arena centar",cinemaCity:"Zagreb"},{cinemaOid:"B7000000014FEPADHG",cinemaName:"Z centar",cinemaCity:"Zagreb"},{cinemaOid:"87000000014FEPADHG",cinemaName:"Kaptol boutique",cinemaCity:"Zagreb"},{cinemaOid:"57000000014FEPADHG",cinemaName:"Dvori lapad",cinemaCity:"Dubrovnik"},{cinemaOid:"27000000014FEPADHG",cinemaName:"Portanova centar",cinemaCity:"Osijek"},{cinemaOid:"A7000000014FEPADHG",cinemaName:"Max city",cinemaCity:"Pula"},{cinemaOid:"40000000014FEPADHG",cinemaName:"Tower centar",cinemaCity:"Rijeka"},{cinemaOid:"67000000014FEPADHG",cinemaName:"City colosseum",cinemaCity:"Slavonski Brod"},{cinemaOid:"17000000014FEPADHG",cinemaName:"Joker centar",cinemaCity:"Split"},{cinemaOid:"97000000014FEPADHG",cinemaName:"Mall of split",cinemaCity:"Split"},{cinemaOid:"47000000014FEPADHG",cinemaName:"Lumini centar",cinemaCity:"Varaždin"},{cinemaOid:"77000000014FEPADHG",cinemaName:"K centar golubica",cinemaCity:"Vukovar"},{cinemaOid:"D4000000014FEPADHG",cinemaName:"City galleria",cinemaCity:"Zadar"},{cinemaOid:"07000000014FEPADHG",cinemaName:"Dalmare centar",cinemaCity:"Šibenik"}];var ur=T('<button type="button" class="expandable-option"><p> </p> <svg class="stroke" width="7" height="13" viewBox="0 0 7 13" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1L5.38848 5.82733C5.73523 6.20875 5.73523 6.79125 5.38848 7.17267L1 12" stroke="#454954" stroke-width="2" stroke-linecap="round"></path></svg></button>'),fr=T('<button type="button"><div class="checkbox"><img alt="check icon"></div> <p> </p></button>'),mr=T('<button type="button"><div class="checkbox"><img src="images/check.svg" alt="check icon"></div> <p> </p></button>'),pr=T('<div class="dropdown-options primary-color-scheme dropdown-suboptions"></div>'),gr=T('<div class="input-container svelte-1j4g4yd"><div class="label"><img class="label-icon" src="/images/locationIcon.svg" alt="location icon"> <p class="label-text">Lokacija kina</p></div> <button type="button"><p class="selectedValue svelte-1j4g4yd"> </p> <svg class="fill" width="10" height="9" viewBox="0 0 10 9" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.64952 7.875C5.36084 8.375 4.63916 8.375 4.35048 7.875L0.453368 1.125C0.164693 0.624999 0.525536 -9.15707e-07 1.10289 -8.65233e-07L8.89712 -1.8384e-07C9.47447 -1.33367e-07 9.83531 0.625 9.54663 1.125L5.64952 7.875Z" fill="#8F95A3"></path></svg></button> <div class="dropdown-options-container"><div></div> <!></div></div>');function _r(r,e){J(e,!1);const[t,a]=Ke(),i=()=>ke(Oe,"$cinemaOids",t),s=W(),o=Te(),l=[{city:"Zagreb",cinemas:[{cinemaOid:"10000000014OCPXCOG",cinemaName:"Branimir mingle mall"},{cinemaOid:"20000000014FEPADHG",cinemaName:"Avenue mall"},{cinemaOid:"37000000014FEPADHG",cinemaName:"Arena centar"},{cinemaOid:"B7000000014FEPADHG",cinemaName:"Z centar"},{cinemaOid:"87000000014FEPADHG",cinemaName:"Kaptol boutique"}]},{city:"Split",cinemas:[{cinemaOid:"17000000014FEPADHG",cinemaName:"Joker centar"},{cinemaOid:"97000000014FEPADHG",cinemaName:"Mall of split"}]},{city:"Dubrovnik",cinemas:[{cinemaOid:"57000000014FEPADHG",cinemaName:"Dvori lapad"}]},{city:"Osijek",cinemas:[{cinemaOid:"27000000014FEPADHG",cinemaName:"Portanova centar"}]},{city:"Pula",cinemas:[{cinemaOid:"A7000000014FEPADHG",cinemaName:"Max city"}]},{city:"Rijeka",cinemas:[{cinemaOid:"40000000014FEPADHG",cinemaName:"Tower centar"}]},{city:"Slavonski Brod",cinemas:[{cinemaOid:"67000000014FEPADHG",cinemaName:"City colosseum"}]},{city:"Varaždin",cinemas:[{cinemaOid:"47000000014FEPADHG",cinemaName:"Lumini centar"}]},{city:"Vukovar",cinemas:[{cinemaOid:"77000000014FEPADHG",cinemaName:"K centar golubica"}]},{city:"Zadar",cinemas:[{cinemaOid:"D4000000014FEPADHG",cinemaName:"City galleria"}]},{city:"Šibenik",cinemas:[{cinemaOid:"07000000014FEPADHG",cinemaName:"Dalmare centar"}]}];let v=ve(e,"locationDropdownOpen",12);function u(){v(v().level=v().level===0?1:0,!0)}function m(C){const O=v().level===1||v().selectedCity!==C;v(v().level=O?2:1,!0),O&&v(v().selectedCity=C,!0)}function w(C){const O=i().includes(C);gt(Oe,O?i().filter(N=>N!==C):[...i(),C])}function g(C,O){return C.cinemas.some(N=>O.includes(N.cinemaOid))}ue(()=>(i(),rt),()=>{Z(s,i().map(C=>rt.find(O=>O.cinemaOid===C).cinemaName.split(" ")[0]))}),ue(()=>(Ve(v()),i()),()=>{v().level===0&&i().length>1&&!localStorage.getItem("visitedWebsiteBefore")&&o("showPerformanceInfoPopup",!0)}),Ne(),pe();var b=gr(),_=D(d(b),2);let h;var I=d(_),F=d(I,!0);c(I),Ce(2),c(_);var k=D(_,2),y=d(k);let p,f;ae(y,5,()=>l,le,(C,O)=>{var N=Fe(),P=ne(N);{var j=E=>{var L=ur(),G=d(L),H=d(G,!0);c(G);var B=D(G,2),U=d(B);let Q;c(B),c(L),q(ie=>{M(H,n(O).city),Q=oe(U,"",Q,{stroke:ie})},[()=>g(n(O),i())?"#FFCC00":""],ce),$("click",L,()=>{m(n(O).city)}),A(E,L)},S=E=>{var L=fr();let G;var H=d(L),B=d(H);c(H);var U=D(H,2),Q=d(U,!0);c(U),c(L),q(ie=>{G=ee(L,1,"option",null,G,ie),V(B,"src",v().level===2?"images/check-fadeout1.svg":"images/check.svg"),M(Q,n(O).city)},[()=>({selected:i().includes(n(O).cinemas[0].cinemaOid)})],ce),$("click",L,()=>{w(n(O).cinemas[0].cinemaOid)}),A(E,L)};z(P,E=>{n(O).cinemas.length>1?E(j):E(S,!1)})}A(C,N)}),c(y);var x=D(y,2);ae(x,1,()=>l,le,(C,O)=>{var N=Fe(),P=ne(N);{var j=S=>{var E=pr();let L;ae(E,5,()=>n(O).cinemas,le,(G,H)=>{var B=mr();let U;var Q=D(d(B),2),ie=d(Q,!0);c(Q),c(B),q(fe=>{U=ee(B,1,"option",null,U,fe),M(ie,n(H).cinemaName)},[()=>({selected:i().includes(n(H).cinemaOid)})],ce),$("click",B,()=>{w(n(H).cinemaOid)}),A(G,B)}),c(E),q(()=>L=oe(E,"",L,{display:v().level==2&&v().selectedCity===n(O).city?"flex":"none"})),A(S,E)};z(P,S=>{n(O).cinemas.length>1&&S(j)})}A(C,N)}),c(k),c(b),q((C,O,N)=>{h=ee(_,1,"dropdown-element primary-color-scheme svelte-1j4g4yd",null,h,C),M(F,O),p=ee(y,1,"dropdown-options primary-color-scheme",null,p,N),f=oe(y,"",f,{display:v().level>=1?"flex":"none"})},[()=>({"fadeout-1-input":v().level===1,"fadeout-2-input":v().level===2}),()=>n(s).join(", ")||"Odaberi kino",()=>({"fadeout-1-input":v().level===2})],ce),$("click",_,u),A(r,b),Y(),a()}var hr=T('<button type="button"><p> </p></button>'),br=T('<div class="input-container svelte-1mov11d"><div class="label"><img class="label-icon" src="/images/dateIcon.svg" alt="sort icon"> <p class="label-text">Datum</p></div> <button type="button" id="dateDropdown" class="dropdown-element secondary-color-scheme"><p class="selectedValue"> </p> <svg class="fill" width="10" height="9" viewBox="0 0 10 9" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.64952 7.875C5.36084 8.375 4.63916 8.375 4.35048 7.875L0.453368 1.125C0.164693 0.624999 0.525536 -9.15707e-07 1.10289 -8.65233e-07L8.89712 -1.8384e-07C9.47447 -1.33367e-07 9.83531 0.625 9.54663 1.125L5.64952 7.875Z" fill="#8F95A3"></path></svg></button> <div class="dropdown-options secondary-color-scheme"></div></div>');function yr(r,e){J(e,!1);const[t,a]=Ke(),i=()=>ke(Ie,"$selectedDate",t),s=W();let o=ve(e,"dateDropdownOpen",12);const l=[],v=new Date;for(let k=0;k<7;k++)l.push({text:Ye(v),value:bt(v)}),v.setDate(v.getDate()+1);l.push({text:"Sve",value:"any"});function u(){o(o().value=!o().value,!0)}let m=W(window.innerWidth>1200);Rt(()=>{Z(m,window.innerWidth>1200);const k=()=>{Z(m,window.innerWidth>1200)};return window.addEventListener("resize",k),()=>{window.removeEventListener("resize",k)}}),ue(()=>(i(),Ye),()=>{Z(s,i()==="any"?"Sve":Ye(new Date(i())))}),Ne(),pe();var w=br();let g;var b=D(d(w),2),_=d(b),h=d(_,!0);c(_),Ce(2),c(b);var I=D(b,2);let F;ae(I,5,()=>l,le,(k,y)=>{var p=hr();let f;var x=d(p),C=d(x,!0);c(x),c(p),q(O=>{f=ee(p,1,"option",null,f,O),M(C,n(y).text)},[()=>({selected:i()===n(y).value})],ce),$("click",p,()=>{gt(Ie,n(y).value),o(o().value=!1,!0)}),A(k,p)}),c(I),c(w),q(()=>{g=oe(w,"",g,{"max-width":n(m)?"":"calc(45% - 0.5rem)"}),M(h,n(s)),F=oe(I,"",F,{display:o().value?"flex":"none"})}),$("click",b,u),A(r,w),Y(),a()}var Dr=T('<button type="button"><p> </p></button>'),wr=T('<div id="sortContainer" class="input-container svelte-128al8m"><div class="label"><img class="label-icon" src="/images/sortIcon.svg" alt="sort icon"> <p class="label-text">Sortiranje</p></div> <button type="button" class="dropdown-element secondary-color-scheme"><p class="selectedValue"> </p> <svg class="fill" width="10" height="9" viewBox="0 0 10 9" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.64952 7.875C5.36084 8.375 4.63916 8.375 4.35048 7.875L0.453368 1.125C0.164693 0.624999 0.525536 -9.15707e-07 1.10289 -8.65233e-07L8.89712 -1.8384e-07C9.47447 -1.33367e-07 9.83531 0.625 9.54663 1.125L5.64952 7.875Z" fill="#8F95A3"></path></svg></button> <div class="dropdown-options secondary-color-scheme"></div></div>');function kr(r,e){J(e,!1);const[t,a]=Ke(),i=()=>ke(Ue,"$sortBy",t),s=W();let o=ve(e,"sortDropdownOpen",12);const l=[{text:"po Datumu izlaska",value:"nationwideStart"},{text:"po IMDB ocjeni",value:"imdbRating"},{text:"po Letterboxd ocjeni",value:"letterboxdRating"},{text:"po Žanru",value:"genre"},{text:"po Trajanju",value:"durationMins"}];function v(){o(o().value=!o().value,!0)}ue(()=>i(),()=>{var h;Z(s,(h=l.find(I=>I.value===i()))==null?void 0:h.text)}),Ne(),pe();var u=wr();oe(u,"",{},{"align-items":"flex-end"});var m=D(d(u),2),w=d(m),g=d(w,!0);c(w),Ce(2),c(m);var b=D(m,2);let _;ae(b,5,()=>l,le,(h,I)=>{var F=Dr();let k;var y=d(F),p=d(y,!0);c(y),c(F),q(f=>{k=ee(F,1,"option",null,k,f),M(p,n(I).text)},[()=>({selected:i()===n(I).value})],ce),$("click",F,()=>{gt(Ue,n(I).value),o(o().value=!1,!0)}),A(h,F)}),c(b),c(u),q(()=>{M(g,n(s)),_=oe(b,"",_,{display:o().value?"flex":"none"})}),$("click",m,v),A(r,u),Y(),a()}var Cr=T('<div id="dropdowns" class="svelte-qa3u02"><!> <div id="dateAndSortContainer" class="svelte-qa3u02"><!> <!></div></div>');function Fr(r,e){let t=W({level:0,selectedCity:null}),a=W({value:!1}),i=W({value:!1});document.addEventListener("click",m=>{m.target.closest(".dropdown-options")||m.target.closest(".dropdown-element")||(me(t,n(t).level=0),me(a,n(a).value=!1),me(i,n(i).value=!1))});var s=Cr(),o=d(s);_r(o,{get locationDropdownOpen(){return n(t)},$$events:{showPerformanceInfoPopup(m){xe.call(this,e,m)}}});var l=D(o,2),v=d(l);yr(v,{get dateDropdownOpen(){return n(a)}});var u=D(v,2);kr(u,{get sortDropdownOpen(){return n(i)}}),c(l),c(s),A(r,s)}var xr=T('<div class="loader svelte-zdd2wp"></div>');function Kt(r){var e=xr();A(r,e)}var Pr=T("<p> </p>"),Sr=T("<p> </p>"),Ar=T("<p>N/A</p>"),Or=T("<p>·</p> <p> </p>",1),Ir=T('<p>·</p> <div class="ratingIconAndValue svelte-98o2mn"><img src="/images/letterboxdIcon.png" alt="letterboxd icon" class="svelte-98o2mn"> <p> </p></div>',1),Nr=T('<p>·</p> <div class="ratingIconAndValue svelte-98o2mn"><img src="/images/imdbIcon.png" alt="imdb icon" class="svelte-98o2mn"> <p> </p></div>',1),Tr=T('<div class="titleAndStats"><p> </p> <div><!> <!> <!> <!></div></div>');function jr(r,e){J(e,!1);let t=ve(e,"movie",8),a=ve(e,"isFullscreened",8);pe();var i=Tr(),s=d(i);let o;var l=d(s,!0);c(s);var v=D(s,2);let u;var m=d(v);{var w=y=>{var p=Pr(),f=d(p,!0);c(p),q(()=>M(f,t().englishCategories[0])),A(y,p)},g=(y,p)=>{{var f=C=>{var O=Sr(),N=d(O,!0);c(O),q(()=>M(N,t().genres[0])),A(C,O)},x=C=>{var O=Ar();A(C,O)};z(y,C=>{t().genres?C(f):C(x,!1)},p)}};z(m,y=>{t().englishCategories?y(w):y(g,!1)})}var b=D(m,2);{var _=y=>{var p=Or(),f=D(ne(p),2),x=d(f,!0);c(f),q(()=>M(x,t().duration)),A(y,p)};z(b,y=>{t().duration&&y(_)})}var h=D(b,2);{var I=y=>{var p=Ir(),f=D(ne(p),2),x=D(d(f),2),C=d(x);c(x),c(f),q(()=>M(C,`${t().letterboxdRating??""}/5`)),A(y,p)};z(h,y=>{t().letterboxdRating&&y(I)})}var F=D(h,2);{var k=y=>{var p=Nr(),f=D(ne(p),2),x=D(d(f),2),C=d(x);c(x),c(f),q(()=>M(C,`${t().imdbRating??""}/10`)),A(y,p)};z(F,y=>{t().imdbRating&&y(k)})}c(v),c(i),q((y,p)=>{o=ee(s,1,"movieTitle svelte-98o2mn",null,o,y),M(l,t().title),u=ee(v,1,"movieStats svelte-98o2mn",null,u,p)},[()=>({fullscreened:a()}),()=>({fullscreened:a()})],ce),A(r,i),Y()}var Er=T('<a class="person svelte-t6q84q"><img class="svelte-t6q84q"> <p class="personName svelte-t6q84q"> </p></a>'),Lr=T('<div class="person svelte-t6q84q"><img src="/images/defaultPersonImage.jpg" class="svelte-t6q84q"> <p class="personName svelte-t6q84q"> </p></div>'),qr=T('<a class="person svelte-t6q84q"><img class="svelte-t6q84q"> <p class="personName svelte-t6q84q"> </p></a>'),Mr=T('<div class="infoContainer svelte-t6q84q"><p class="infoLabel svelte-t6q84q">Glumci</p> <div class="peopleContainer svelte-t6q84q"></div></div>'),Br=T('<p class="infoText svelte-t6q84q"> </p>'),Rr=T('<p class="infoText svelte-t6q84q"> </p>'),Hr=T('<a class="trailerButton svelte-t6q84q" target="_blank" rel="noopener"><img src="images/trailerPlayIcon.svg" alt="play trailer icon"> <span>Trailer</span> <span class="secondary svelte-t6q84q">(youtube.com)</span></a>'),zr=T('<div class="movieExtraInfo svelte-t6q84q"><div class="infoContainer svelte-t6q84q"><p class="infoLabel svelte-t6q84q"> </p> <div class="peopleContainer svelte-t6q84q"><!></div></div> <!> <div class="infoContainer svelte-t6q84q"><p class="infoLabel svelte-t6q84q">Opis</p> <!></div> <!></div>');function Zt(r,e){J(e,!0);var t=zr(),a=d(t),i=d(a),s=d(i,!0);c(i);var o=D(i,2),l=d(o);{var v=k=>{var y=Fe(),p=ne(y);ae(p,17,()=>e.movie.englishDirectors,le,(f,x)=>{var C=Er(),O=d(C),N=D(O,2),P=d(N,!0);c(N),c(C),q(()=>{V(C,"href",n(x).lbUrl),V(O,"src",n(x).portraitUrl),V(O,"alt",n(x).name+"portrait"),M(P,n(x).name)}),A(f,C)}),A(k,y)},u=k=>{var y=Lr(),p=d(y),f=D(p,2),x=d(f,!0);c(f),c(y),q(()=>{V(p,"alt",e.movie.director+"portrait"),M(x,e.movie.director)}),A(k,y)};z(l,k=>{e.movie.englishDirectors?k(v):k(u,!1)})}c(o),c(a);var m=D(a,2);{var w=k=>{var y=Mr(),p=D(d(y),2);ae(p,21,()=>e.movie.actors,le,(f,x)=>{var C=qr(),O=d(C),N=D(O,2),P=d(N,!0);c(N),c(C),q(()=>{V(C,"href",n(x).lbUrl),V(O,"src",n(x).portraitUrl),V(O,"alt",n(x).name+" portrait"),M(P,n(x).name)}),A(f,C)}),c(p),c(y),A(k,y)};z(m,k=>{e.movie.actors&&k(w)})}var g=D(m,2),b=D(d(g),2);{var _=k=>{var y=Br(),p=d(y,!0);c(y),q(()=>M(p,e.movie.englishSynopsis)),A(k,y)},h=k=>{var y=Rr(),p=d(y,!0);c(y),q(()=>M(p,e.movie.synopsis)),A(k,y)};z(b,k=>{e.movie.englishSynopsis?k(_):k(h,!1)})}c(g);var I=D(g,2);{var F=k=>{var y=Hr();q(()=>{V(y,"href",e.movie.trailerLink),V(y,"aria-label",`Watch trailer for ${e.movie.originalTitle}`)}),A(k,y)};z(I,k=>{e.movie.trailerLink&&k(F)})}c(t),q(()=>M(s,e.movie.englishDirectors&&e.movie.englishDirectors.length>1?"Redatelji":"Redatelj")),A(r,t),Y()}var Gr=T('<button type="button"> </button>'),Vr=T('<div class="column svelte-7oaoqa"><div class="label svelte-7oaoqa"> </div> <div class="checkboxesColumn svelte-7oaoqa"></div></div>'),Ur=T('<div class="column svelte-7oaoqa"><div class="label svelte-7oaoqa">Vrijeme</div> <div class="inputsColumn svelte-7oaoqa"><div class="inputContainer svelte-7oaoqa">od <input type="text" id="performanceTimeFromInput" value="00:00" inputmode="numeric" class="svelte-7oaoqa"></div> <div class="inputContainer svelte-7oaoqa">do <input type="text" id="performanceTimeToInput" value="24:00" inputmode="numeric" class="svelte-7oaoqa"></div></div></div>'),Kr=T('<div id="performanceFilterCard" class="svelte-7oaoqa"></div>');function Zr(r,e){J(e,!1);const t=Te();let a=ve(e,"displayComponent",8),i=ve(e,"performances",8),s=ve(e,"filteredPerformances",8),o=W({videoFeatures:[],audioFeatures:[],roomFeatures:[],timeFrom:"00:00",timeTo:"24:00"}),l=W([{id:"videoFeatures",label:"Slika",data:[]},{id:"roomFeatures",label:"Dvorana",data:[]},{id:"audioFeatures",label:"Zvuk",data:[]},{id:"time",label:"Vrijeme",data:[]}]);function v(p){m(p)}function u(p){w()}function m(p){for(let f=0;f<n(l).length;f++){if(n(l)[f].id==="time")continue;const x=Vt(p)[n(l)[f].id];me(l,n(l)[f].data=x.map(C=>({name:C,state:n(o)[n(l)[f].id].includes(C)?"selected":"possible"})))}}function w(p){for(let f=0;f<n(l).length;f++){if(n(l)[f].id==="time")continue;const x=Ja(i(),n(o))[n(l)[f].id];me(l,n(l)[f].data=n(l)[f].data.map(C=>(x.includes(C.name)?C.state!=="selected"&&(C.state="possible"):C.state="notPossible",C)))}}function g(){for(let p=0;p<n(l).length;p++){const f=n(l)[p].data.filter(x=>x.state==="selected").map(x=>x.name);me(o,n(o)[n(l)[p].id]=f)}}function b(p,f){const x=n(l).findIndex(N=>N.id===f),C=n(l)[x].data.findIndex(N=>N.name===p),O=n(l)[x].data[C].state;O!=="notPossible"&&(O==="selected"?me(l,n(l)[x].data[C].state="possible"):me(l,n(l)[x].data[C].state="selected"),g())}function _(p){p.target.select()}function h(p){const f=p.target,x=f.value;if(p.inputType==="deleteContentBackward")return;const C=x.replace(/[^\d:]/g,"");if(C!==x){f.value=C;return}if(x.length===2&&(x>24?f.value=`${x[0]}:${x[1]}`:f.value=`${x}:`),x.includes(":")&&(x.split(":")[1].length>2||x.split(":")[0].length>2)){const O=x.split(":")[0].slice(0,2),N=x.split(":")[1].slice(0,2);f.value=`${O}:${N}`}}function I(p){const f=p.target,x=f.id==="performanceTimeFromInput"?"00:00":"24:00",C=n(o)[f.id==="performanceTimeFromInput"?"timeFrom":"timeTo"];if(f.value===""){f.value=x,me(o,n(o)[f.id==="performanceTimeFromInput"?"timeFrom":"timeTo"]=f.value);return}if(f.value.length===1)f.value=`0${f.value}:00`;else if(f.value.length>=3){const P=f.value.split(":")[0],j=f.value.split(":")[1];f.value=`${P.padStart(2,"0")}:${j.padEnd(2,"0")}`}const[O,N]=f.value.split(":");if(O>24||O==24&&N!="00"||N>59){console.log("greška",f.value),f.value=C;return}me(o,n(o)[f.id==="performanceTimeFromInput"?"timeFrom":"timeTo"]=f.value)}function F(p){p.key==="Enter"&&p.target.blur()}ue(()=>Ve(i()),()=>{v(i())}),ue(()=>Ve(s()),()=>{u(s())}),ue(()=>n(o),()=>{t("performanceFilterChange",n(o))}),Ne(),pe();var k=Kr();let y;ae(k,5,()=>n(l),le,(p,f)=>{var x=Fe(),C=ne(x);{var O=P=>{var j=Vr(),S=d(j),E=d(S,!0);c(S);var L=D(S,2);ae(L,5,()=>n(f).data,le,(G,H)=>{var B=Gr();let U;var Q=d(B);c(B),q((ie,fe)=>{U=ee(B,1,"option svelte-7oaoqa",null,U,ie),M(Q,`${n(H).name??""} (${fe??""})`)},[()=>({selected:n(H).state==="selected",disabled:n(H).state==="notPossible"}),()=>n(f).data.some(ie=>ie.state==="selected")?It(yt(i(),{...n(o),[n(f).id]:[]}),n(H).name):It(s(),n(H).name)],ce),$("click",B,()=>{b(n(H).name,n(f).id)}),A(G,B)}),c(L),c(j),q(()=>{V(j,"id",n(f).id),M(E,n(f).label)}),A(P,j)},N=(P,j)=>{{var S=E=>{var L=Ur(),G=D(d(L),2),H=d(G),B=D(d(H));c(H);var U=D(H,2),Q=D(d(U));c(U),c(G),c(L),$("focus",B,_),$("input",B,h),$("keydown",B,F),$("blur",B,I),$("focus",Q,_),$("input",Q,h),$("keydown",Q,F),$("blur",Q,I),A(E,L)};z(P,E=>{n(f).id==="time"&&E(S)},j)}};z(C,P=>{n(f).id!=="time"?P(O):P(N,!1)})}A(p,x)}),c(k),q(()=>y=oe(k,"",y,{display:a()})),A(r,k),Y()}async function Xr(r,e,t){const a=new URL("/api/performances",ht),i=Wr(r,e,t);a.search=i.toString();const s=await fetch(a);if(!s.ok)throw new Error(s.statusText);return await s.json()}function Wr(r,e,t){const a=new URLSearchParams;return r.forEach(i=>{a.append("cinemaOids",i)}),a.append("date",e),a.append("movieId",t),a}function it(r,e){if(!e)return{previousDate:null,nextDate:null};const t=r.indexOf(e);return t===-1?(console.warn(`"${e}" not found in available dates`,r),{previousDate:null,nextDate:null}):{previousDate:r[t-1]??null,nextDate:r[t+1]??null}}var Jr=T("<p> </p>"),Yr=T('<button type="button" class="performanceCard svelte-zuhl7d"><p class="performanceTime svelte-zuhl7d"> </p> <div class="performanceFeature svelte-zuhl7d"></div></button>');function Xt(r,e){J(e,!0);var t=Yr();t.__click=function(...o){var l;(l=e.onClick)==null||l.apply(this,o)};var a=d(t),i=d(a,!0);c(a);var s=D(a,2);ae(s,21,()=>e.performance.performanceFeatures||[],le,(o,l)=>{var v=Jr(),u=d(v,!0);c(v),q(()=>M(u,n(l))),A(o,v)}),c(s),c(t),q(()=>M(i,e.performance.performanceTime)),A(r,t),Y()}Pe(["click"]);var Qr=T('<div class="performanceContainer svelte-9m38is"><div class="performanceslabel svelte-9m38is"> </div> <div class="performanceList svelte-9m38is"></div></div>');function $r(r,e){J(e,!0);var t=Qr(),a=d(t),i=d(a,!0);c(a);var s=D(a,2);ae(s,21,()=>e.performances,le,(o,l)=>{Xt(o,{get performance(){return n(l)},onClick:()=>e.onSelectPerformance(n(l))})}),c(s),c(t),q(()=>M(i,e.performanceDateText)),A(r,t),Y()}var ei=T('<div class="performanceslabel svelte-9m38is"> </div> <div class="performanceList svelte-9m38is"></div>',1),ti=T('<div class="performanceContainer svelte-9m38is"></div>');function ai(r,e){J(e,!0);function t(i){const s=new Map;for(const o of i){const l=rt.find(u=>u.cinemaOid===o.cinemaOid);if(!l){console.warn("Cinema not found for performance:",o);continue}const v=l.cinemaName+" ("+l.cinemaCity+")";s.has(v)||s.set(v,[]),s.get(v).push(o)}return s}var a=ti();ae(a,21,()=>[...t(e.filteredPerformances)],le,(i,s)=>{let o=()=>n(s)[0],l=()=>n(s)[1];var v=ei(),u=ne(v),m=d(u,!0);c(u);var w=D(u,2);ae(w,21,l,le,(g,b)=>{Xt(g,{get performance(){return n(b)},onClick:()=>e.onSelectPerformance(n(b))})}),c(w),q(()=>M(m,o())),A(i,v)}),c(a),A(r,a),Y()}var ri=T('<div class="activeFiltersCount svelte-o0jgxr"> </div>'),ii=T('<div class="performanceManipulationContainer svelte-o0jgxr"><button class="performanceFilter button svelte-o0jgxr" type="button"><img src="/images/filterPerfomanceIcon.svg" alt="filter icon"> <!></button> <div class="performanceDatePicker svelte-o0jgxr"><button><img src="images/leftArrow.svg" alt="left arrow"></button> <button type="button"> </button> <button><img src="images/rightArrow.svg" alt="right arrow"></button></div></div>');function ni(r,e){J(e,!0);var t=ii(),a=d(t);a.__click=function(..._){var h;(h=e.toggleFilter)==null||h.apply(this,_)};var i=D(d(a),2);{var s=_=>{var h=ri(),I=d(h,!0);c(h),q(()=>M(I,e.activeFiltersCount)),A(_,h)};z(i,_=>{e.activeFiltersCount>0&&_(s)})}c(a);var o=D(a,2),l=d(o);let v;l.__click=function(..._){var h;(h=e.previousDate)==null||h.apply(this,_)};var u=D(l,2);let m;u.__click=function(..._){var h;(h=e.resetDate)==null||h.apply(this,_)};var w=d(u,!0);c(u);var g=D(u,2);let b;g.__click=function(..._){var h;(h=e.nextDate)==null||h.apply(this,_)},c(o),c(t),q((_,h,I)=>{v=ee(l,1,"arrowCircle button svelte-o0jgxr",null,v,_),m=ee(u,1,"dateText svelte-o0jgxr",null,m,h),M(w,e.loadingPerformances?"Loading...":e.performanceDateText),b=ee(g,1,"arrowCircle button svelte-o0jgxr",null,b,I)},[()=>({disabled:it(e.availableDates,e.currentPerformanceDate).previousDate===null}),()=>({italic:e.selectedDate==="any"?e.currentPerformanceDate!==e.availableDates[0]:e.currentPerformanceDate!==e.selectedDate}),()=>({disabled:it(e.availableDates,e.currentPerformanceDate).nextDate===null})]),A(r,t),Y()}Pe(["click"]);var si=T("<!> <!> <!>",1),oi=T('<div class="performancesContainer svelte-1avleto"><!></div>');function Wt(r,e){J(e,!0);const[t,a]=Ke(),i=()=>ke(Oe,"$cinemaOids",t),s=()=>ke(Ie,"$selectedDate",t);let o=ge(Ge(e.movie.performances||[]));const l=Te();let v=ge(!0),u=ge(!1),m=ge(!1),w=ge(Ge({})),g=De(()=>{var P;return(P=n(o)[0])==null?void 0:P.cinemaDate}),b=De(()=>n(g)?Ye(new Date(n(g))):"No date selected"),_=De(()=>yt(n(o),n(w)));Bt(()=>{n(v)?Z(v,!1):n(g)&&h(n(g))}),Rt(()=>{const P=j=>{const S=j.target;n(m)!==!1&&(S==null?void 0:S.closest(".column"))===null&&(S==null?void 0:S.closest(".performanceFilter"))===null&&Z(m,!1)};return document.addEventListener("click",P),()=>{document.removeEventListener("click",P)}});async function h(P){const j=await I(P);Z(o,j,!0)}async function I(P){try{return Z(u,!0),await Xr(i(),P,e.movie.id)}catch(j){return console.error("Error fetching performances:",j.message),[]}finally{Z(u,!1)}}function F(P,j){l("selectedPerformance",{movie:P,performance:j})}function k(P){Z(w,P.detail,!0)}async function y(){const{previousDate:P,nextDate:j}=it(e.movie.availableDates||[],n(g));P!=null&&Z(g,P,!0)}async function p(){const{previousDate:P,nextDate:j}=it(e.movie.availableDates||[],n(g));j!=null&&Z(g,j,!0)}function f(){var P;n(g)!==s()&&(s()==="any"?h(((P=e.movie.availableDates)==null?void 0:P[0])||""):h(s()))}var x=oi(),C=d(x);{var O=P=>{const j=De(()=>e.movie.performances||[]);$r(P,{get performances(){return n(j)},get performanceDateText(){return n(b)},onSelectPerformance:S=>F(e.movie,S)})},N=(P,j)=>{{var S=E=>{var L=si(),G=ne(L);const H=De(()=>Xa(n(w))),B=De(()=>e.movie.availableDates||[]);ni(G,{get activeFiltersCount(){return n(H)},get availableDates(){return n(B)},get currentPerformanceDate(){return n(g)},get selectedDate(){return s()},get loadingPerformances(){return n(u)},get performanceDateText(){return n(b)},toggleFilter:()=>Z(m,!n(m)),previousDate:y,nextDate:p,resetDate:f});var U=D(G,2);const Q=De(()=>n(m)?"flex":"none");Zr(U,{get performances(){return e.movie.performances},get filteredPerformances(){return n(_)},get displayComponent(){return n(Q)},$$events:{performanceFilterChange:k}});var ie=D(U,2);ai(ie,{get filteredPerformances(){return n(_)},onSelectPerformance:fe=>F(e.movie,fe)}),A(E,L)};z(P,E=>{e.isFullscreened&&E(S)},j)}};z(C,P=>{e.isFullscreened?P(N,!1):P(O)})}c(x),A(r,x),Y(),a()}function li(r,e,t){var i;const a=(i=r.target)==null?void 0:i.closest(".movieCard");a||console.error("Didn't find movie card (.movieCard) when trying to fullscreen"),e("setFullscreen",{filmNumber:t.movie.filmNumber,movieCard:a})}var ci=T('<div class="buttonsContainer svelte-1k9k64y"><button type="button" class="imageButton button svelte-1k9k64y" aria-label="Toggle movie details display"><img alt="Toggle fullscreen mode"> <span class="label svelte-1k9k64y"> </span></button></div>');function Jt(r,e){J(e,!0);const t=Te();var a=ci(),i=d(a);i.__click=[li,t,e];var s=d(i),o=D(s,2),l=d(o,!0);c(o),c(i),c(a),q(()=>{V(s,"src",e.isFullscreened?"/images/fullscreen-exit.svg":"/images/fullscreen.svg"),M(l,e.isFullscreened?"Manje informacija":"Više informacija")}),A(r,a),Y()}Pe(["click"]);var vi=T('<div><img class="moviePoster svelte-trdb6u"> <div class="rightSide svelte-trdb6u"><div class="movieData svelte-trdb6u"><!> <!> <!></div> <!></div></div>');function di(r,e){J(e,!1);const t=W();let a=ve(e,"movie",8),i=ve(e,"fullscreenedMovieNumber",8);ue(()=>(Ve(a()),Ve(i())),()=>{Z(t,a().filmNumber===i())}),Ne(),pe();var s=vi();let o;var l=d(s),v=D(l,2),u=d(v),m=d(u);jr(m,{get movie(){return a()},get isFullscreened(){return n(t)}});var w=D(m,2);{var g=h=>{Zt(h,{get movie(){return a()}})};z(w,h=>{n(t)&&h(g)})}var b=D(w,2);Wt(b,{get movie(){return a()},get isFullscreened(){return n(t)},$$events:{selectedPerformance(h){xe.call(this,e,h)}}}),c(u);var _=D(u,2);Jt(_,{get movie(){return a()},get isFullscreened(){return n(t)},$$events:{setFullscreen(h){xe.call(this,e,h)}}}),c(v),c(s),q(h=>{o=ee(s,1,"movieCard svelte-trdb6u",null,o,h),V(s,"id",`movieCard-${a().filmNumber??""}`),V(l,"src",a().posterUrl||a().imageUrl),V(l,"alt",`${a().originalTitle??""} poster`)},[()=>({fullScreenMovieCard:n(t)})],ce),A(r,s),Y()}var ui=T('<span class="ageRating svelte-1fswvpz"> </span>'),fi=T('<div class="ratingIconAndValue svelte-1fswvpz"><img src="/images/imdbIcon.png" alt="imdb icon" class="svelte-1fswvpz"> <p class="svelte-1fswvpz"> </p></div>'),mi=T('<p class="svelte-1fswvpz"> </p>'),pi=T('<div class="ratingIconAndValue svelte-1fswvpz"><img src="/images/letterboxdIcon.png" alt="letterboxd icon" class="svelte-1fswvpz"> <p class="svelte-1fswvpz"> </p></div>'),gi=T('<div><p class="movieTitle svelte-1fswvpz"> <!></p> <div class="movieStats svelte-1fswvpz"><div class="row svelte-1fswvpz"><div><p class="svelte-1fswvpz"> </p></div> <div><!></div></div> <div class="row svelte-1fswvpz"><div><!></div> <div><!></div></div></div></div>');function _i(r,e){J(e,!1);let t=ve(e,"movie",8),a=ve(e,"isFullscreened",8);pe();var i=gi();let s;var o=d(i),l=d(o),v=D(l);{var u=N=>{var P=ui(),j=d(P);c(P),q(()=>M(j,`(${t().ageRating??""}+)`)),A(N,P)};z(v,N=>{t().ageRating&&t().ageRating!=="0"&&N(u)})}c(o);var m=D(o,2),w=d(m),g=d(w),b=d(g),_=d(b,!0);c(b),c(g);var h=D(g,2),I=d(h);{var F=N=>{var P=fi(),j=D(d(P),2),S=d(j);c(j),c(P),q(()=>M(S,`${t().imdbRating??""}/10`)),A(N,P)};z(I,N=>{t().imdbRating&&N(F)})}c(h),c(w);var k=D(w,2),y=d(k),p=d(y);{var f=N=>{var P=mi(),j=d(P,!0);c(P),q(()=>M(j,t().duration)),A(N,P)};z(p,N=>{t().duration&&N(f)})}c(y);var x=D(y,2),C=d(x);{var O=N=>{var P=pi(),j=D(d(P),2),S=d(j);c(j),c(P),q(()=>M(S,`${t().letterboxdRating??""}/5`)),A(N,P)};z(C,N=>{t().letterboxdRating&&N(O)})}c(x),c(k),c(m),c(i),q(N=>{var P,j;s=ee(i,1,"titleAndStats",null,s,N),M(l,`${t().title??""} `),M(_,((P=t().englishCategories)==null?void 0:P[0])||((j=t().genres)==null?void 0:j[0])||"N/A")},[()=>({sticky:a()})],ce),A(r,i),Y()}var hi=T('<div><div class="posterContainer svelte-1gmw3m0"><div class="overlay svelte-1gmw3m0"></div> <img class="moviePoster svelte-1gmw3m0"></div> <div class="movieData svelte-1gmw3m0"><!> <!> <!> <!></div></div>');function bi(r,e){J(e,!0);const t=De(()=>e.movie.filmNumber===e.fullscreenedMovieNumber);var a=hi();let i;var s=d(a),o=D(d(s),2);c(s);var l=D(s,2),v=d(l);_i(v,{get movie(){return e.movie},get isFullscreened(){return n(t)}});var u=D(v,2);{var m=b=>{Zt(b,{get movie(){return e.movie}})};z(u,b=>{n(t)&&b(m)})}var w=D(u,2);Wt(w,{get movie(){return e.movie},get isFullscreened(){return n(t)},$$events:{selectedPerformance(b){xe.call(this,e,b)}}});var g=D(w,2);Jt(g,{get movie(){return e.movie},get isFullscreened(){return n(t)},$$events:{setFullscreen(b){xe.call(this,e,b)}}}),c(l),c(a),q(b=>{i=ee(a,1,"movieCard svelte-1gmw3m0",null,i,b),V(a,"id",`movieCard-${e.movie.filmNumber??""}`),oe(s,`background-image: url(${(e.movie.posterUrl||e.movie.imageUrl)??""});`),V(o,"src",e.movie.posterUrl||e.movie.imageUrl),V(o,"alt",`${e.movie.originalTitle??""} poster`)},[()=>({fullScreenMovieCard:n(t)})]),A(r,a),Y()}var yi=T('<div id="movieCardsContainer" class="svelte-1anuqbq"></div>');function Di(r,e){J(e,!0);let t=ge("v2");Bt(()=>{const l=localStorage.getItem("movieCardDesign");console.log("Getting movieCardDesign from localStorage:",l),l?Z(t,l,!0):localStorage.setItem("movieCardDesign","v2")});let a=ge(0),i=Ge({normal:0,fullscreen:0});function s(l){const v=l.detail.filmNumber,u=l.detail.movieCard;if(v===n(a)){i.fullscreen=u.offsetHeight;const m=i.fullscreen-i.normal;window.scrollBy(0,-m),Z(a,0)}else v!==n(a)&&(i.normal=u.offsetHeight,Z(a,v,!0))}var o=yi();ae(o,21,()=>e.movies.filter(l=>l.performances&&l.performances.length>0),l=>l.id,(l,v)=>{var u=Fe(),m=ne(u);{var w=b=>{di(b,{get movie(){return n(v)},get fullscreenedMovieNumber(){return n(a)},$$events:{setFullscreen:s,selectedPerformance(_){xe.call(this,e,_)}}})},g=b=>{bi(b,{get movie(){return n(v)},get fullscreenedMovieNumber(){return n(a)},$$events:{setFullscreen:s,selectedPerformance(_){xe.call(this,e,_)}}})};z(m,b=>{n(t)==="v1"?b(w):b(g,!1)})}A(l,u)}),c(o),A(r,o),Y()}function wi(r){if(r.length<4)return 0;const e=5,t=[];for(let o=0;o<Math.min(e,r.length-1);o++){const[l,v]=[r[o],r[o+1]];t.push(v.x-l.x)}const a=t.sort((o,l)=>l-o),i=a.slice(1,-1);return i.length>0?i[i.length-1]:a[0]}var ki=T('<div class="seat svelte-1ctn1a6"></div>'),Ci=T('<img src="/images/cinemaScreen.svg" alt="screen" id="screenImage" class="svelte-1ctn1a6"> <!>',1),Fi=T('<div class="svelte-1ctn1a6"><div class="seat svelte-1ctn1a6"></div> <p class="svelte-1ctn1a6">Slobodno</p></div> <div class="svelte-1ctn1a6"><div class="seat svelte-1ctn1a6"></div> <p class="svelte-1ctn1a6">Zauzeto</p></div>',1),xi=T('<div class="svelte-1ctn1a6"><div class="seat svelte-1ctn1a6"></div> <p class="svelte-1ctn1a6"> </p></div>'),Pi=T('<div class="svelte-1ctn1a6"><div class="seat svelte-1ctn1a6"></div> <p class="svelte-1ctn1a6">Invalidsko</p></div>'),Si=T('<!> <!> <div class="svelte-1ctn1a6"><div class="seat svelte-1ctn1a6"></div> <p class="svelte-1ctn1a6">Zauzeto</p></div>',1),Ai=T('<div id="card" class="svelte-1ctn1a6"><button id="closeSeatsButton" class="svelte-1ctn1a6"><img src="/images/xIcon.svg" alt="close seats icon"></button> <div id="seatsContainer" class="svelte-1ctn1a6"><!></div> <div class="seatsLegend svelte-1ctn1a6"><!></div> <div class="seatTypesSwitchContainer svelte-1ctn1a6"><label for="seatTypesSwitch" class="svelte-1ctn1a6">Prikaži vrste sjedala</label> <input type="checkbox" id="seatTypesSwitch" class="svelte-1ctn1a6"></div> <div id="performanceInfo" class="svelte-1ctn1a6"><p class="movieTitle svelte-1ctn1a6"> <!></p> <div class="performanceInfoRow svelte-1ctn1a6"><img src="/images/clockIcon.svg" alt="clock icon"> <p class="svelte-1ctn1a6"> </p></div> <div class="performanceInfoRow svelte-1ctn1a6"><img src="/images/locationIcon2.svg" alt="location icon"> <p class="svelte-1ctn1a6"> </p></div> <div class="performanceInfoRow svelte-1ctn1a6"><img src="/images/clapperIcon.svg" alt="clapper icon"> <p class="svelte-1ctn1a6"> </p></div></div> <a id="buyTicketButton" target="_blank" class="svelte-1ctn1a6"><p class="svelte-1ctn1a6">Kupi kartu na cinestar.hr</p> <img src="images/linkArrow.svg" alt="arrow"></a></div>');function Oi(r,e){J(e,!1);let t=ve(e,"performanceData",8);const a=Te();let i=W(!0),s=v(),o=W([]),l=W(!1);async function v(){const{cinemaOid:R,id:K}=t().performance,X=new URLSearchParams;X.append("cinemaOid",R),X.append("performanceId",K);const se=`${ht}/api/seating`,de=await fetch(`${se}?${X.toString()}`);if(de.ok){const re=await de.json();return console.log(re),Z(o,re.seatingAreas),g(re),re}}let u=W(2.5),m=W(0),w=W(9);function g(R){const K=document.getElementById("seatsContainer");if(!K){console.error("Seats container not found (#seatsContainer) in Seating.svelte");return}const X=K.clientWidth-10,se=R.maxX;Z(u,X*.9/se),Z(m,X*.05);const de=wi(R.seats)*n(u);Z(w,Math.max(6,Math.min(Math.floor(de*.85),18)));const re=R.maxY*n(u)+n(w);K.style.setProperty("height",64+re+"px")}function b(R,K){if([4,256,260,128].includes(R.stat)){if(K===!1||K===void 0)return"#80A6FF";const X=n(o).find(se=>se.id===R.sar).name;if(["Boutique","VIP Relax","VIP"].includes(X))return"#DFDF9F";if(X==="Royal bed")return"#EA80FF";if(X==="Lovebox")return"#FF8080";if(X==="Regular")return[163,193].includes(R.sg)?(n(l)===!1&&Z(l,!0),"#A1DF9F"):"#80A6FF"}else return"#373B43"}function _(R,K){const X={weekday:"short",day:"2-digit",month:"2-digit"},se=new Date(R),re=se.toLocaleDateString("hr-HR",X).replace(/\s+/g,"").replace(/,/g," "),Se=Za(se,K);return K+", "+re+" ("+Se+")"}pe();var h=Ai(),I=d(h),F=D(I,2),k=d(F);Ht(k,()=>s,R=>{Kt(R)},(R,K)=>{var X=Ci(),se=D(ne(X),2);ae(se,1,()=>n(K).seats,le,(de,re)=>{var Se=ki();let be;q(ye=>be=oe(Se,"",be,{"background-color":ye,left:n(m)+n(re).x*n(u)+"px",top:64+n(re).y*n(u)+"px",width:n(w)+"px",height:n(w)+"px"}),[()=>b(n(re),n(i))],ce),A(de,Se)}),A(R,X)}),c(F);var y=D(F,2),p=d(y);{var f=R=>{var K=Fi(),X=ne(K),se=d(X);oe(se,"",{},{"background-color":"#80A6FF"}),Ce(2),c(X);var de=D(X,2),re=d(de);oe(re,"",{},{"background-color":"#373B43"}),Ce(2),c(de),A(R,K)},x=R=>{var K=Si(),X=ne(K);ae(X,1,()=>n(o),le,(be,ye)=>{var Ee=xi(),Le=d(Ee);let Dt;var wt=D(Le,2),Yt=d(wt,!0);c(wt),c(Ee),q(Qt=>{Dt=oe(Le,"",Dt,{"background-color":Qt}),M(Yt,n(ye).name)},[()=>b({sar:n(ye).id,stat:4},n(i))],ce),A(be,Ee)});var se=D(X,2);{var de=be=>{var ye=Pi(),Ee=d(ye);let Le;Ce(2),c(ye),q(()=>Le=oe(Ee,"",Le,{"background-color":n(i)?"#A1DF9F":"#80A6FF"})),A(be,ye)};z(se,be=>{n(l)&&be(de)})}var re=D(se,2),Se=d(re);oe(Se,"",{},{"background-color":"#373B43"}),Ce(2),c(re),A(R,K)};z(p,R=>{n(i)===!1?R(f):R(x,!1)})}c(y);var C=D(y,2),O=D(d(C),2);qa(O),c(C);var N=D(C,2),P=d(N),j=d(P),S=D(j);{var E=R=>{var K=$t();q(()=>M(K,`(${t().movie.ageRating??""}+)`)),A(R,K)};z(S,R=>{t().movie.ageRating&&t().movie.ageRating!=="0"&&R(E)})}c(P);var L=D(P,2),G=D(d(L),2),H=d(G,!0);c(G),c(L);var B=D(L,2),U=D(d(B),2),Q=d(U,!0);c(U),c(B);var ie=D(B,2),fe=D(d(ie),2),he=d(fe,!0);c(fe),c(ie),c(N);var je=D(N,2);c(h),q((R,K,X)=>{M(j,`${t().movie.title??""} `),M(H,R),M(Q,K),M(he,X),V(je,"href",`https://shop.cinestarcinemas.hr/landingpage?center=${t().performance.cinemaOid}&page=seatingplan&performance=${t().performance.id}`)},[()=>_(t().performance.cinemaDate,t().performance.performanceTime),()=>{var R;return((R=rt.find(K=>K.cinemaOid===t().performance.cinemaOid))==null?void 0:R.cinemaName)||"N/A"},()=>t().performance.performanceFeatures.join(" · ")],ce),$("click",I,()=>{a("selectedPerformance",null)}),Va(O,()=>n(i),R=>Z(i,R)),A(r,h),Y()}var Ii=T('<div id="noResults" class="svelte-8skmsr"><img src="/images/seinfeld-speechless.gif" alt="gif of seinfeld being speechless" class="svelte-8skmsr"> <p class="svelte-8skmsr">(server upravo sada jer niste odabrali lokaciju kina)</p></div>');function Ni(r){var e=Ii();A(r,e)}var Ti=T('<div class="backdrop svelte-1jb4ik3"><div id="card" class="svelte-1jb4ik3"><img src="/images/performancesHelp.svg" alt="performances help" class="svelte-1jb4ik3"> <button class="svelte-1jb4ik3">Kužim</button></div></div>');function ji(r,e){J(e,!1);const t=Te();localStorage.setItem("visitedWebsiteBefore","true"),pe();var a=Ti(),i=d(a),s=D(d(i),2);c(i),c(a),$("click",s,()=>{t("showPerformanceInfoPopup",!1)}),A(r,a),Y()}var Ei=T('<p class="text-red-500">Nema filmova na odabrani datum</p>'),Li=T('<!> <div id="content" class="svelte-2av7o2"><!> <!></div> <!> <!>',1);function Vi(r,e){J(e,!1);const[t,a]=Ke(),i=()=>ke(Oe,"$cinemaOids",t),s=()=>ke(Ie,"$selectedDate",t),o=()=>ke(Ue,"$sortBy",t);let l=W(!1),v=W(null),u=W(null);h();const m=({detail:S})=>Z(v,S),w=({detail:S})=>Z(l,S);async function g(S,E,L){if(S.length===0)return{noCinemasSelected:!0};const G=b(S,E,L),H=`${ht}/api/movies`,B=await fetch(`${H}?${G.toString()}`);return B.ok?await B.json():(console.error("Error fetching movies:",B.statusText),[])}function b(S,E,L){const G=new URLSearchParams;return S.forEach(H=>G.append("cinemaOids",H)),G.append("date",E),G.append("sortBy",L),G}function _(S){document.body.style.overflow=S?"hidden":"auto"}function h(){const S=I(),E=F(),L={...S,...E};console.log(L),L.cinemaOids&&Oe.set(L.cinemaOids),L.selectedDate&&Ie.set(L.selectedDate),L.sortBy&&Ue.set(L.sortBy)}function I(){let S={};if(localStorage.getItem("cinemaOids"))try{S.cinemaOids=JSON.parse(localStorage.getItem("cinemaOids")||"[]")}catch(E){console.error("Error parsing cinemaOids from localStorage",E),S.cinemaOids=[]}if(localStorage.getItem("selectedDate")){const E=bt(new Date),L=localStorage.getItem("selectedDate")||"";L<E?S.selectedDate=E:S.selectedDate=L}return localStorage.getItem("sortBy")&&(S.sortBy=localStorage.getItem("sortBy")||""),S}function F(){let S={};const E=new URLSearchParams(window.location.search);return E.has("cinemaOids")&&(S.cinemaOids=E.getAll("cinemaOids")),E.has("date")&&(S.selectedDate=E.get("date")||""),E.has("sortBy")&&(S.sortBy=E.get("sortBy")||""),S}function k(S,E,L){localStorage.setItem("cinemaOids",JSON.stringify(S)),localStorage.setItem("selectedDate",E),localStorage.setItem("sortBy",L)}ue(()=>(i(),s(),o()),()=>{Z(u,g(i(),s(),o()))}),ue(()=>n(v),()=>{_(n(v))}),ue(()=>(i(),s(),o()),()=>{const S=b(i(),s(),o());history.replaceState(null,"",`?${S.toString()}`),k(i(),s(),o())}),Ne(),pe();var y=Li(),p=ne(y);dr(p,{});var f=D(p,2),x=d(f);Fr(x,{$$events:{showPerformanceInfoPopup:w}});var C=D(x,2);Ht(C,()=>n(u),S=>{Kt(S)},(S,E)=>{var L=Fe(),G=ne(L);{var H=U=>{Ni(U)},B=(U,Q)=>{{var ie=he=>{var je=Ei();A(he,je)},fe=(he,je)=>{{var R=K=>{Di(K,{get movies(){return n(E)},$$events:{selectedPerformance:m}})};z(he,K=>{Array.isArray(n(E))&&n(E).length>0&&K(R)},je)}};z(U,he=>{Array.isArray(n(E))&&n(E).length===0?he(ie):he(fe,!1)},Q)}};z(G,U=>{!Array.isArray(n(E))&&n(E).noCinemasSelected?U(H):U(B,!1)})}A(S,L)}),c(f);var O=D(f,2);{var N=S=>{Oi(S,{get performanceData(){return n(v)},$$events:{selectedPerformance:m}})};z(O,S=>{n(v)&&S(N)})}var P=D(O,2);{var j=S=>{ji(S,{$$events:{showPerformanceInfoPopup:w}})};z(P,S=>{n(l)&&S(j)})}A(r,y),Y(),a()}export{Vi as component,Gi as universal};
